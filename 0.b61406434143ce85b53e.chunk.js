webpackJsonp([0,3],{966:function(e,t,n){"use strict";var i=n(1),o=n(92),c=n(122),r=n(971),s=n(973),a=n(972),l=n(967),d=n(968),p=n(969),u=n(974);n.d(t,"RecipesModule",function(){return h});var f=this&&this.__decorate||function(e,t,n,i){var o,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(c<3?o(r):c>3?o(t,n,r):o(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},v=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},h=function(){function e(){}return e=f([n.i(i.u)({declarations:[r.a,s.a,a.a,l.a,p.a,d.a],imports:[o.b,c.f,u.a]}),v("design:paramtypes",[])],e)}()},967:function(e,t,n){"use strict";var i=n(1),o=n(173),c=n(174),r=n(93),s=n(423);n.d(t,"a",function(){return d});var a=this&&this.__decorate||function(e,t,n,i){var o,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(c<3?o(r):c>3?o(t,n,r):o(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},l=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},d=function(){function e(e,t,n,i,o){var c=this;this.sls=e,this.rtr=t,this.router=n,this.authService=i,this.srv=o,this.isAuthenticated=!1,this.authService.isAuthenticated().subscribe(function(e){return c.isAuthenticated=e})}return e.prototype.ngOnInit=function(){var e=this;this.subscription=this.router.params.subscribe(function(t){e.recipeId=t.id,e.getRecipe()})},e.prototype.getRecipe=function(){var e=this;this.srv.getRecipe(this.recipeId).subscribe(function(t){return e.selectedRecipe=t},function(e){return console.log(e)})},e.prototype.ngOnDestroy=function(){this.subscription.unsubscribe},e.prototype.isAuth=function(){return this.isAuthenticated},e.prototype.onAddToShoppingList=function(){this.sls.addItems(this.selectedRecipe.ingredients)},e.prototype.onEdit=function(){this.rtr.navigate(["/recipes",this.recipeId,"edit"])},e.prototype.onDelete=function(){var e=this;console.log("Key"+this.recipeId),this.srv.deleteRecipe(this.recipeId).subscribe(function(){return e.srv.onChanges.emit(!0)}),this.rtr.navigate(["/recipes"])},e=a([n.i(i.R)({selector:"rb-recipe-details",template:n(975)}),l("design:paramtypes",["function"==typeof(t="undefined"!=typeof c.a&&c.a)&&t||Object,"function"==typeof(d="undefined"!=typeof o.a&&o.a)&&d||Object,"function"==typeof(p="undefined"!=typeof o.b&&o.b)&&p||Object,"function"==typeof(u="undefined"!=typeof r.a&&r.a)&&u||Object,"function"==typeof(f="undefined"!=typeof s.a&&s.a)&&f||Object])],e);var t,d,p,u,f}()},968:function(e,t,n){"use strict";var i=n(1),o=n(173),c=n(122),r=n(970),s=n(424),a=n(423);n.d(t,"a",function(){return p});var l=this&&this.__decorate||function(e,t,n,i){var o,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(c<3?o(r):c>3?o(t,n,r):o(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},d=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=function(){function e(e,t,n,i,o){this.route=e,this.rsrv=t,this.fb=n,this.router=i,this.srv=o,this.selectedRecipe=new r.a,this.isNew=!0,this.isLoaded=!1}return e.prototype.ngOnInit=function(){this.selectedRecipe.ingredients=[],this.isNew=!0,this.route.snapshot.params.hasOwnProperty("id")&&(this.isNew=!1,this.recipeId=this.route.snapshot.params.id,this.loadRecipe()),this.initForm()},e.prototype.loadRecipe=function(){var e=this;console.log("Get Recipe"),this.srv.getRecipe(this.recipeId).subscribe(function(t){e.selectedRecipe=t,e.initForm()},function(e){return console.log(e)})},e.prototype.ngOnDestroy=function(){},e.prototype.onSubmit=function(){var e=this,t=this.recipeForm.value;this.isNew?(console.log("New Recipe"),this.srv.postRecipe(t).subscribe(function(e){return console.log(e)},function(e){return console.log(e)},function(){return e.srv.onChanges.emit(!0)})):(console.log("Update Recipe"),t.key=this.recipeId,this.srv.updateRecipe(t).subscribe(function(e){return console.log(e)},function(e){return console.log(e)},function(){return e.srv.onChanges.emit(!0)})),this.navigateBack()},e.prototype.onCancel=function(){this.navigateBack()},e.prototype.onRemoveIngredient=function(e){this.recipeForm.controls.ingredients.removeAt(e)},e.prototype.onAddIngredient=function(e,t){this.recipeForm.controls.ingredients.push(new c.a({name:new c.b(e,c.c.required),amount:new c.b(t,[c.c.required,c.c.pattern("\\d+")])}))},e.prototype.navigateBack=function(){this.router.navigate(["/recipes"])},e.prototype.initForm=function(){console.log("initForm"),console.log(this.selectedRecipe);var e="",t="",n="",i=new c.d([]);this.title=this.isNew?"New ":"Edit",this.isNew||(e=this.selectedRecipe.name,n=this.selectedRecipe.imagePath,t=this.selectedRecipe.description,null!=this.selectedRecipe.ingredients&&this.selectedRecipe.ingredients.forEach(function(e){i.push(new c.a({name:new c.b(e.name,c.c.required),amount:new c.b(e.amount,[c.c.required,c.c.pattern("\\d+")])}))})),this.recipeForm=this.fb.group({name:[e,c.c.required],imagePath:[n,c.c.required],description:[t,c.c.required],ingredients:i})},e=l([n.i(i.R)({selector:"rb-recipe-edit",template:n(976)}),d("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.b&&o.b)&&t||Object,"function"==typeof(p="undefined"!=typeof s.a&&s.a)&&p||Object,"function"==typeof(u="undefined"!=typeof c.e&&c.e)&&u||Object,"function"==typeof(f="undefined"!=typeof o.a&&o.a)&&f||Object,"function"==typeof(v="undefined"!=typeof a.a&&a.a)&&v||Object])],e);var t,p,u,f,v}()},969:function(e,t,n){"use strict";var i=n(1);n.d(t,"a",function(){return r});var o=this&&this.__decorate||function(e,t,n,i){var o,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(c<3?o(r):c>3?o(t,n,r):o(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},r=function(){function e(){}return e.prototype.ngOnInit=function(){},e=o([n.i(i.R)({selector:"rb-recipe-start",template:"\n    <h1> Please select a recipe </h1>\n  ",styles:[]}),c("design:paramtypes",[])],e)}()},970:function(e,t,n){"use strict";n.d(t,"a",function(){return i});var i=function(){function e(){}return e}()},971:function(e,t,n){"use strict";var i=n(1),o=n(424),c=n(423);n.d(t,"a",function(){return a});var r=this&&this.__decorate||function(e,t,n,i){var o,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(c<3?o(r):c>3?o(t,n,r):o(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},a=function(){function e(e,t){this._recipeService=e,this.srv=t,this.recipes=[]}return e.prototype.ngOnInit=function(){var e=this;console.log("Getting recipes from Firebase"),this.loadRecipes(),this.srv.onChanges.subscribe(function(t){return e.loadRecipes()})},e.prototype.loadRecipes=function(){var e=this;console.log("Loading updated recipes"),this.srv.getRecipes().subscribe(function(t){console.log(t),e.recipes=t},function(e){return console.log(e)})},e=r([n.i(i.R)({selector:"rb-recipes",template:n(979)}),s("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object,"function"==typeof(a="undefined"!=typeof c.a&&c.a)&&a||Object])],e);var t,a}()},972:function(e,t,n){"use strict";var i=n(1),o=n(970);n.d(t,"a",function(){return s});var c=this&&this.__decorate||function(e,t,n,i){var o,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(c<3?o(r):c>3?o(t,n,r):o(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(){}return e.prototype.ngOnInit=function(){},c([n.i(i.l)(),r("design:type","function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object)],e.prototype,"recipe",void 0),c([n.i(i.l)(),r("design:type",Number)],e.prototype,"recipeId",void 0),e=c([n.i(i.R)({selector:"rb-recipe-item",template:n(977)}),r("design:paramtypes",[])],e);var t}()},973:function(e,t,n){"use strict";var i=n(1),o=n(173);n.d(t,"a",function(){return s});var c=this&&this.__decorate||function(e,t,n,i){var o,c=arguments.length,r=c<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(r=(c<3?o(r):c>3?o(t,n,r):o(t,n))||r);return c>3&&r&&Object.defineProperty(t,n,r),r},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},s=function(){function e(e){this.router=e,this.recipes=[]}return e.prototype.ngOnInit=function(){},c([n.i(i.l)(),r("design:type",Array)],e.prototype,"recipes",void 0),c([n.i(i.l)(),r("design:type",Number)],e.prototype,"recipeId",void 0),e=c([n.i(i.R)({selector:"rb-recipe-list",template:n(978)}),r("design:paramtypes",["function"==typeof(t="undefined"!=typeof o.a&&o.a)&&t||Object])],e);var t}()},974:function(e,t,n){"use strict";var i=n(173),o=n(971),c=n(967),r=n(968),s=n(969),a=n(267);n.d(t,"a",function(){return d});var l=[{path:"",component:o.a,children:[{path:"",component:s.a},{path:"new",component:r.a},{path:":id",component:c.a},{path:":id/edit",component:r.a,canActivate:[a.a]}]}],d=i.c.forChild(l)},975:function(e,t){e.exports='<div *ngIf="selectedRecipe!=null ">\n<div class="row">\n  <div class="col-xs-12">\n    <h1>{{selectedRecipe?.name}}</h1>\n  </div>\n  <div class="row" *ngIf="selectedRecipe!=null">\n    <div class="col-xs-12">\n      <img src="{{selectedRecipe?.imagePath}}" alt="" class="img-responsive rb-detailImage">\n    </div>\n  </div>\n  <div class="col-xs-12" style="margin-top:20px">\n    <button class="btn btn-success" (click)="onAddToShoppingList()">To Shopping List</button>\n    <button class="btn btn-primary" *ngIf="isAuth()" (click)="onEdit()">Edit</button>\n    <button class="btn btn-danger" *ngIf="isAuth()" (click)="onDelete()">Delete</button>\n  </div>\n</div>\n<hr>\n<div class="row">\n  <div class="col-xs-12">\n    <p>{{selectedRecipe?.description}}</p>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <h1>Ingredients</h1>\n    <ul class="list-group">\n      <li class="list-group-item" \n        *ngFor="let ingredient of selectedRecipe?.ingredients">\n        {{ingredient.name}} ({{ingredient.amount}})</li>\n    </ul>\n  </div>\n</div>\n</div>'},976:function(e,t){e.exports='<h1>\n  {{title}}\n</h1>\n<div class="row" >\n  <div class="col-xs-12">\n    <form [formGroup]="recipeForm" (ngSubmit)="onSubmit()">\n      <div class="row">\n        <div class="col-xs-12">\n          <button type="submit" class="btn btn-success" [disabled]="!recipeForm.valid" >Save</button>\n          <a class="btn btn-danger" (click)="onCancel()">Cancel</a>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <div class="form-group">\n            <label for="name">Title</label>\n            <input\n              type="text"\n              id="name"\n              class="form-control"\n              formControlName="name">\n          </div>  \n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <div class="form-group">\n            <label for="image-url">Image Url</label>\n            <input\n              type="text"\n              id="image-url"\n              class="form-control"\n              formControlName="imagePath"\n              #imageUrl>\n          </div>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <div class="img">\n            <img style="width:300px;height:300px" [src]="imageUrl.value">\n          </div>\n        </div>\n      </div>\n      <div class="row">\n        <div class="col-xs-12">\n          <div class="form-group">\n            <label for="content">Content</label>\n            <textarea\n              type="text"\n              id="content"\n              rows="6"\n              class="form-control"\n              formControlName="description"></textarea>\n          </div>\n        </div>\n      </div>\n\n      <div class="row">\n        <div class="col-xs-12">\n          <ul class="list-group" formArrayName="ingredients">\n            <div class="row"\n                *ngFor="let ingredient of recipeForm.controls[\'ingredients\'].controls;let i = index">\n              <div formGroupName="{{i}}">\n                <div class="col-sm-5">\n                  <input\n                    type="text"\n                    class="form-control"\n                    formControlName="name">\n                </div>\n                <div class="col-sm-5">\n                  <input\n                    type="text"\n                    class="form-control"\n                    formControlName="amount">\n                </div>\n                <div class="col-sm-2">\n                  <button class="btn btn-danger" (click)="onRemoveIngredient(i)" >X</button>\n                </div>\n              </div>\n              <br><br>\n            </div>\n          </ul>\n        </div>\n      </div>\n    </form>\n  </div>\n</div>\n<hr>\n<div class="row">\n  <div class="col-xs-12">\n    <div class="form-group row">\n      <div class="col-md-5"><input type="text" class="form-control" #itemName></div>\n      <div class="col-md-5"><input type="text" class="form-control" #itemAmount></div>\n      <div class="col-md-2">\n        <button\n          type="button"\n          class="btn btn-primary"\n          (click)="onAddIngredient(itemName.value,itemAmount.value)">+</button>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n'},977:function(e,t){e.exports='<a [routerLink]="[recipeId]" class="list-group-item clearfix " routerLinkActive="active"  >\n  <div class="media" >\n    <div class="media-left">\n        <img class="media-object recipeImage" src="{{recipe?.imagePath}}" alt="...">\n    </div>\n    <div class="media-body">\n      <h4 class="media-heading">{{recipe?.name}}</h4>\n      {{recipe?.description }}...\n    </div>\n  </div>\n</a>'},978:function(e,t){e.exports='<div class="row">\n  <div class="col-xs-12">\n    <a [routerLink]="[\'new\']" class="btn btn-success" style="margin-bottom: 10px;">New Recipe</a>\n  </div>\n</div>\n<div class="row">\n  <div class="col-xs-12">\n    <ul class="list-group" >\n      <rb-recipe-item *ngFor="let r of recipes;let i = index" [recipe]="r" \n        [recipeId]="r.key"  ></rb-recipe-item>\n    </ul>\n  </div>\n</div>'},979:function(e,t){e.exports='<div class="row">\n  <div class="col-md-5">\n    <rb-recipe-list [recipes]="recipes" ></rb-recipe-list>\n  </div>\n  <div class="col-md-7">\n    <router-outlet></router-outlet>  \n    <!--<div *ngIf="selectedRecipe==null" >\n      <h1>Please select a Recipe</h1>\n    </div>\n    <rb-recipe-details *ngIf="selectedRecipe!=null" [selectedRecipe]="selectedRecipe"></rb-recipe-details>-->\n  </div>\n</div>'}});
//# sourceMappingURL=0.b61406434143ce85b53e.bundle.map